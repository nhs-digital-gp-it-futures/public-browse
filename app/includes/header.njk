{% from 'components/bc-header/macro.njk' import bcHeader %}
{% from 'components/panel/macro.njk' import panel %}
{% from 'components/login-logout/macro.njk' import loginLogout %}

{% macro termBanner(config) %}
  <div class='nhsuk-grid-row'>
    <div class='bc-c-tag-beta' data-test-id='beta-tag'>BETA</div>
    <div data-test-id='terms-banner-text'>
      By using this site you are accepting the General Terms of Use which you can view by <a data-test-id='general-terms-link' target='_blank' href='{{ config.blobstoreHost }}/$web/content/terms-of-use.pdf'>downloading this PDF</a>. The Cookies Policy and Privacy Policy can be accessed using the links at the bottom of the page.
    </div>
  </div>
{% endmacro %}

<span data-test-id="terms-banner">
  {{ panel({
    "colour": "grey",
    "HTML": termBanner(config),
    "classes": "nhsuk-u-margin-top-0 nhsuk-u-margin-bottom-0 nhsuk-u-padding-top-3 nhsuk-u-padding-bottom-3 nhsuk-u-padding-left-0 nhsuk-width-container"
  }) }}
</span>
{% if loginEnabled %}
  {% set innerComponent = loginLogout({
      dataTestId: "login-logout-component",
      username: username,
      loginUrl: "/login",
      logoutUrl: "/logout"
    }) %}
{% endif %}

{{ bcHeader({
  dataTestId: "header-banner",
  innerComponent: innerComponent,
  classes: "nhsuk-u-padding-top-3 nhsuk-u-padding-bottom-2"
}) }}

{% if config.showCovid19 === 'true' %}
  <div class="bc-c-global-alert" data-test-id="covid19-global-alert">
    <div class="nhsuk-width-container">
      <h2>Coronavirus (COVID-19)</h2>
      <p><a href="/solutions/covid19">View catalogue solutions</a> that are relevant to COVID-19.</p>
    </div>
  </div>
{% endif %}
